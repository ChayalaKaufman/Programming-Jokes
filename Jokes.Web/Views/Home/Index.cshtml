@using Jokes.Data
@model IndexViewModel

<div class="row">
    <div class="col-md-4 col-md-offset-3 well">
        <h3>@Model.Joke.SetUp</h3>
        <h3>@Model.Joke.Punchline</h3>

        @if (Model.User != null)
        {
            <input type="hidden" id="user-id" value="@Model.User.Id" />

            if (Model.User.LikedJokes != null)
            {
                <button class="btn btn-primary" disabled="@Model.User.LikedJokes.Any(j => j.JokeId == Model.Joke.Id)" id="like-joke" data-joke-id="@Model.Joke.Id">Like</button>
                <button class="btn btn-default" disabled="@Model.User.LikedJokes.Any(j => j.JokeId == Model.Joke.Id)" id="dislike-joke" data-joke-id="@Model.Joke.Id">Dislike</button>
            }
            else
            {
                <button class="btn btn-primary" id="like-joke" data-joke-id="@Model.Joke.Id">Like</button>
                <button class="btn btn-default" id="dislike-joke" data-joke-id="@Model.Joke.Id">Dislike</button>
            }
        }
    </div>
</div>

@section scripts{
    <script src="/js/index.js"></script>
}